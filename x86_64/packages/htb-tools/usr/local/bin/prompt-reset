#!/bin/sh

sed -i '/PS1=/c\PS1="\\e[92mâ”Œâ”€â”€[HQğŸš€\\e[92m$(ip -4 addr | grep -v '127.0.0.1' | grep -v 'secondary' | grep -Po \"inet \\K[\\d.]+\" | sed -z \"s/\\n/|/g;s/|$/\\n/\")âš”ï¸\\u]\\e[34m\\nâ””â”€â”€â•¼[ğŸ‘¾]\\[\\e[36m\\]\\\$(pwd) $ \\[\\e[0m\\]"' $HOME/.bashrc

cat <<'EOF' > $HOME/.config/fish/functions/fish_prompt.fish
function fish_prompt
    set_color 00ff00
    echo -n "â”Œâ”€â”€[HQğŸš€"
    set_color ff00d7
    echo -n "$(ip -4 addr | grep -v '127.0.0.1' | grep -v 'secondary' | grep -oP '(?<=inet\s)\d+(\.\d+){3}' | sed -z 's/\n/|/g;s/|\$/\n/' | rev | cut -c 2- | rev)"
    echo -n "âš”ï¸$USER"
    set_color 00ff00
    echo "]"
    set_color 00ff00
    echo -n "â””â”€â”€â•¼[ğŸ‘¾]"
    set_color 00ffff
    echo (pwd) '$' (set_color normal)
    end
EOF
